/*!
 * jQuery plugin that freezes the header of a table and adds a vertical scroll bar.
 *
 * Using https://github.com/addyosmani/jquery-plugin-patterns/
 * Original author: @jacksonakj
 * Licensed under the MIT license
 */
(function(f,d,a,h){var e="freezeTable",g={height:480,scrollbarWidth:20,autoHeight:false,autoHeightMarginBottom:20};function c(k,j){var i=k.offset().top+k.find("thead").height()+j;return f(d).height()-i}function b(j,i){this.element=j;this.options=f.extend({},g,i);this._defaults=g;this._name=e;this.init()}b.prototype.init=function(){var o=f(this.element);var l=this;var n=(o.outerWidth(true)-o.innerWidth())/2;var i=this.options.height;if(this.options.autoHeight===true){i=c(o,this.options.autoHeightMarginBottom)}var m=o.width()+n+this.options.scrollbarWidth;var j=f("<div />").addClass("freezetable");var k=f("<div />").css("height",i+"px").css("overflow","auto").css("overflow-x","hidden").css("width",m+"px").addClass("freezetable-body");o.wrap(k);o.parent().wrap(j);var p=o.clone();o.find("thead tr").remove();o.css("margin-top",0).css("margin-bottom",0);p.find("tbody tr").remove();p.css("margin-bottom",0);o.parent().parent().prepend(p);p.wrap("<div/>");p.parent().addClass("freezetable-header");f(d).resize(function(){if(l.options.autoHeight===true){o.parent().css("height",c(o,l.options.autoHeightMarginBottom))}})};f.fn[e]=function(i){return this.each(function(){if(!f.data(this,"plugin_"+e)){f.data(this,"plugin_"+e,new b(this,i))}})}})(jQuery,window,document);